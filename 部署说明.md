# GitHub Pages 部署说明

## 📋 部署步骤

### 1. 准备 GitHub 仓库

#### 场景 A：将整个项目作为独立仓库（推荐）

如果你只想部署 Pinky-ChristmasMemories 项目：

```bash
cd /home/mrz/christmas-tree/Pinky-ChristmasMemories
git init
git add .
git commit -m "初始提交：准备部署到 GitHub Pages"
git branch -M main
git remote add origin https://github.com/czc000/Christmas.git
git push -u origin main
```

#### 场景 B：将整个 christmas-tree 仓库推送

如果你想保留整个项目结构：

```bash
cd /home/mrz/christmas-tree
git init
git add .
git commit -m "初始提交：准备部署到 GitHub Pages"
git branch -M main
git remote add origin https://github.com/你的用户名/仓库名.git
git push -u origin main
```

**注意**：GitHub Actions 工作流会自动检测项目结构，两种方式都可以正常工作。

### 2. 启用 GitHub Pages

1. 进入你的 GitHub 仓库
2. 点击 **Settings**（设置）
3. 在左侧菜单找到 **Pages**（页面）
4. 在 **Source**（源）下选择：
   - **Source**: `GitHub Actions`
5. 保存设置

### 3. 配置自定义域名（可选）

#### 方法一：使用 CNAME 文件（推荐）

1. **编辑 CNAME 文件**：
   - 打开项目中的 `CNAME` 文件（当前包含示例域名 `example.com`）
   - **必须**将内容替换为你的实际域名（例如：`christmas.yourdomain.com`）
   - **重要**：文件中只能有一行，且不能包含 `http://` 或 `https://`
   - 详细说明请查看 `CNAME-配置说明.md`

2. **配置 DNS 记录**：
   在你的域名 DNS 提供商处添加 CNAME 记录：
   ```
   类型: CNAME
   主机记录: christmas (或你想要的子域名)
   记录值: 你的用户名.github.io
   ```

3. **提交更改**：
   ```bash
   git add CNAME
   git commit -m "配置自定义域名"
   git push
   ```

4. **等待生效**：
   - DNS 生效通常需要几分钟到几小时
   - GitHub 会自动为你的域名配置 SSL 证书
   - 在仓库的 Settings > Pages 中可以查看域名状态

**注意**：如果不想使用自定义域名，可以删除 `CNAME` 文件，使用 GitHub 提供的默认域名。

#### 方法二：在 GitHub 设置中配置

1. 进入仓库的 **Settings** > **Pages**
2. 在 **Custom domain** 中输入你的域名
3. 按照提示配置 DNS 记录

### 4. 自动部署

配置完成后，每次你推送代码到 `main` 或 `master` 分支时，GitHub Actions 会自动：
- 构建项目
- 部署到 GitHub Pages

你可以在仓库的 **Actions** 标签页查看部署状态。

## 🌐 访问你的网站

部署成功后，你可以通过以下方式访问：

- **GitHub Pages 默认地址**: `https://你的用户名.github.io/仓库名/`
- **自定义域名**: `https://你设置的域名/`

## ⚠️ 注意事项

1. **摄像头权限**: 由于项目需要访问摄像头，必须使用 HTTPS（GitHub Pages 默认支持）
2. **首次部署**: 首次部署可能需要几分钟时间
3. **照片路径**: 确保 `my_picture/` 目录中的照片文件已提交到 Git
4. **构建失败**: 如果构建失败，检查 GitHub Actions 日志中的错误信息

## 🔧 故障排除

### 构建失败
- 检查 Node.js 版本是否兼容
- 查看 Actions 日志中的具体错误信息

### 页面无法访问
- 确认 GitHub Pages 已启用
- 检查仓库是否为公开（私有仓库需要 GitHub Pro）
- 等待几分钟让部署完成

### 自定义域名不工作
- 确认 DNS 记录已正确配置
- 等待 DNS 传播（最多 48 小时）
- 检查 CNAME 文件中的域名是否正确

## 📝 更新网站

只需推送新的更改到 GitHub：

```bash
git add .
git commit -m "更新内容"
git push
```

GitHub Actions 会自动重新构建和部署。

